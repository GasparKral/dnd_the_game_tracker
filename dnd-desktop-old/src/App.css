/* ============================================================
   DARKHOLD — Global CSS
   Tema: Medieval Fantasía Oscura
   Tailwind CSS v4 — usa @apply, @theme, @layer
   ============================================================ */

@import "tailwindcss";

/* ─────────────────────────────────────────────
   1. TOKENS DE DISEÑO — @theme (Tailwind v4)
───────────────────────────────────────────── */
@theme {
  /* Paleta principal */
  --color-void:        #0a0608;
  --color-abyss:       #110d0f;
  --color-crypt:       #1c1318;
  --color-dungeon:     #2b1e24;
  --color-iron:        #3d2c33;
  --color-ash:         #7a6570;
  --color-bone:        #c9b49a;
  --color-parchment:   #e8d5b0;
  --color-vellum:      #f2e8cf;

  /* Acento: Sangre y Oro */
  --color-crimson:     #8b1a1a;
  --color-blood:       #c0392b;
  --color-ember:       #e74c3c;
  --color-gold:        #b8860b;
  --color-aurum:       #d4a017;
  --color-aureate:     #f0c040;

  /* Magia: Púrpura Arcano */
  --color-arcane:      #3b0764;
  --color-mystic:      #5b21b6;
  --color-ether:       #7c3aed;
  --color-glow:        #a78bfa;

  /* Naturaleza oscura */
  --color-decay:       #1a2e1a;
  --color-blight:      #2d4a2d;
  --color-moss:        #4a7c59;
  --color-ichor:       #6aaa7a;

  /* Tipografía */
  --font-display:      "Cinzel Decorative", "Palatino Linotype", serif;
  --font-heading:      "Cinzel", "Palatino Linotype", serif;
  --font-body:         "Crimson Pro", "Georgia", serif;
  --font-rune:         "MedievalSharp", "UnifrakturMaguntia", cursive;
  --font-mono:         "Courier Prime", "Courier New", monospace;

  /* Escalas de fuente */
  --text-xs:    0.75rem;
  --text-sm:    0.875rem;
  --text-base:  1rem;
  --text-lg:    1.125rem;
  --text-xl:    1.25rem;
  --text-2xl:   1.5rem;
  --text-3xl:   1.875rem;
  --text-4xl:   2.25rem;
  --text-5xl:   3rem;
  --text-6xl:   3.75rem;
  --text-7xl:   4.5rem;
  --text-8xl:   6rem;

  /* Espaciados */
  --spacing-px:    1px;
  --spacing-0:     0;
  --spacing-1:     0.25rem;
  --spacing-2:     0.5rem;
  --spacing-3:     0.75rem;
  --spacing-4:     1rem;
  --spacing-6:     1.5rem;
  --spacing-8:     2rem;
  --spacing-12:    3rem;
  --spacing-16:    4rem;
  --spacing-24:    6rem;
  --spacing-32:    8rem;

  /* Radios */
  --radius-none:   0;
  --radius-sm:     0.125rem;
  --radius-md:     0.25rem;
  --radius-lg:     0.5rem;
  --radius-stone:  3px;

  /* Sombras tematizadas */
  --shadow-candle:   0 0 12px 2px rgba(212, 160, 23, 0.25), 0 2px 8px rgba(0,0,0,0.8);
  --shadow-arcane:   0 0 20px 4px rgba(124, 58, 237, 0.35), 0 4px 16px rgba(0,0,0,0.9);
  --shadow-blood:    0 0 16px 3px rgba(139, 26, 26, 0.45), 0 2px 12px rgba(0,0,0,0.85);
  --shadow-deep:     0 8px 32px rgba(0,0,0,0.95), inset 0 1px 0 rgba(255,255,255,0.03);
  --shadow-emboss:   inset 0 1px 0 rgba(212,160,23,0.2), inset 0 -1px 0 rgba(0,0,0,0.5);

  /* Transiciones */
  --ease-dark:     cubic-bezier(0.4, 0, 0.2, 1);
  --duration-fast: 150ms;
  --duration-base: 300ms;
  --duration-slow: 600ms;
  --duration-ritual: 1200ms;
}


/* ─────────────────────────────────────────────
   2. RESET & BASE
───────────────────────────────────────────── */
@layer base {

  *, *::before, *::after {
    @apply box-border;
  }

  html {
    @apply scroll-smooth;
    font-size: 16px;
    -webkit-text-size-adjust: 100%;
  }

  body {
    background-color: var(--color-void);
    color: var(--color-parchment);
    font-family: var(--font-body);
    font-size: var(--text-base);
    line-height: 1.75;
    min-height: 100vh;
    overflow-x: hidden;

    /* Textura pergamino oscuro */
    background-image:
      radial-gradient(ellipse at 20% 50%, rgba(139, 26, 26, 0.04) 0%, transparent 60%),
      radial-gradient(ellipse at 80% 20%, rgba(91, 33, 182, 0.04) 0%, transparent 60%),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.035'/%3E%3C/svg%3E");
  }

  /* Scrollbar oscuro */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background-color: var(--color-abyss);
    border-left: 1px solid var(--color-iron);
  }
  ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--color-gold), var(--color-crimson));
    border-radius: var(--radius-sm);
  }
  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--color-aureate), var(--color-blood));
  }

  /* Selección de texto */
  ::selection {
    background-color: rgba(139, 26, 26, 0.5);
    color: var(--color-aureate);
  }

  /* ──── TIPOGRAFÍA BASE ──── */

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    color: var(--color-aureate);
    line-height: 1.15;
    letter-spacing: 0.05em;
    font-weight: 700;
  }

  h1 {
    font-family: var(--font-display);
    font-size: clamp(2.25rem, 6vw, 4.5rem);
    color: var(--color-vellum);
    text-shadow:
      0 0 40px rgba(212, 160, 23, 0.4),
      0 2px 4px rgba(0,0,0,0.9);
    letter-spacing: 0.08em;
  }

  h2 {
    font-size: clamp(1.75rem, 4vw, 3rem);
    color: var(--color-aureate);
    text-shadow: 0 0 20px rgba(212, 160, 23, 0.3);
  }

  h3 {
    font-size: clamp(1.25rem, 3vw, 2rem);
    color: var(--color-bone);
  }

  h4 { font-size: var(--text-xl); color: var(--color-bone); }
  h5 { font-size: var(--text-lg); color: var(--color-ash); }
  h6 { font-size: var(--text-base); color: var(--color-ash); letter-spacing: 0.1em; text-transform: uppercase; }

  p {
    margin-bottom: var(--spacing-4);
    color: var(--color-parchment);
    font-size: var(--text-base);
    line-height: 1.8;
  }

  a {
    color: var(--color-aurum);
    text-decoration: none;
    transition: color var(--duration-base) var(--ease-dark),
                text-shadow var(--duration-base) var(--ease-dark);
  }

  a:hover {
    color: var(--color-aureate);
    text-shadow: 0 0 12px rgba(240, 192, 64, 0.5);
  }

  strong, b {
    color: var(--color-vellum);
    font-weight: 700;
    letter-spacing: 0.02em;
  }

  em, i {
    color: var(--color-glow);
    font-style: italic;
  }

  mark {
    background-color: rgba(139, 26, 26, 0.45);
    color: var(--color-vellum);
    padding: 0 0.2em;
    border-radius: var(--radius-sm);
  }

  blockquote {
    border-left: 3px solid var(--color-gold);
    margin: var(--spacing-8) 0;
    padding: var(--spacing-4) var(--spacing-6);
    background: linear-gradient(90deg, rgba(184,134,11,0.08) 0%, transparent 100%);
    font-style: italic;
    color: var(--color-bone);
    font-size: var(--text-lg);
    position: relative;
  }
  blockquote::before {
    content: "\275D";
    font-family: var(--font-display);
    font-size: 3rem;
    color: var(--color-gold);
    opacity: 0.4;
    position: absolute;
    top: -0.5rem;
    left: var(--spacing-4);
    line-height: 1;
  }

  code {
    font-family: var(--font-mono);
    font-size: 0.875em;
    background-color: var(--color-crypt);
    color: var(--color-glow);
    padding: 0.1em 0.4em;
    border-radius: var(--radius-sm);
    border: 1px solid var(--color-iron);
  }

  pre {
    background-color: var(--color-abyss);
    border: 1px solid var(--color-iron);
    border-left: 3px solid var(--color-ether);
    padding: var(--spacing-6);
    border-radius: var(--radius-md);
    overflow-x: auto;
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    color: var(--color-bone);
    box-shadow: var(--shadow-deep);
  }
  pre code {
    background: none;
    border: none;
    padding: 0;
    color: inherit;
  }

  hr {
    border: none;
    height: 1px;
    margin: var(--spacing-12) 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      var(--color-iron) 20%,
      var(--color-gold) 50%,
      var(--color-iron) 80%,
      transparent 100%
    );
    position: relative;
  }
  hr::after {
    content: "✦";
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: var(--color-void);
    color: var(--color-gold);
    padding: 0 var(--spacing-3);
    font-size: var(--text-sm);
  }

  ul, ol {
    padding-left: var(--spacing-6);
    margin-bottom: var(--spacing-4);
    color: var(--color-parchment);
  }
  ul { list-style: none; }
  ul > li::before {
    content: "◆";
    color: var(--color-gold);
    font-size: 0.6em;
    margin-right: var(--spacing-2);
    vertical-align: middle;
    opacity: 0.8;
  }
  ol {
    list-style: none;
    counter-reset: darkhold;
  }
  ol > li {
    counter-increment: darkhold;
    padding-left: var(--spacing-2);
  }
  ol > li::before {
    content: counter(darkhold, upper-roman) ".";
    color: var(--color-gold);
    font-family: var(--font-heading);
    font-size: var(--text-sm);
    margin-right: var(--spacing-2);
    opacity: 0.9;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    border-spacing: 0;
    margin-bottom: var(--spacing-8);
  }
  thead {
    background: linear-gradient(90deg, var(--color-crypt), var(--color-dungeon));
    border-bottom: 2px solid var(--color-gold);
  }
  thead th {
    font-family: var(--font-heading);
    color: var(--color-aureate);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-size: var(--text-sm);
    padding: var(--spacing-3) var(--spacing-4);
    text-align: left;
  }
  tbody tr {
    border-bottom: 1px solid var(--color-iron);
    transition: background-color var(--duration-fast) var(--ease-dark);
  }
  tbody tr:nth-child(even) {
    background-color: rgba(28, 19, 24, 0.5);
  }
  tbody tr:hover {
    background-color: rgba(184, 134, 11, 0.07);
  }
  tbody td {
    padding: var(--spacing-3) var(--spacing-4);
    color: var(--color-parchment);
    font-size: var(--text-sm);
  }

  img, video {
    max-width: 100%;
    height: auto;
    display: block;
  }

  figure {
    margin: var(--spacing-8) 0;
  }
  figcaption {
    text-align: center;
    font-style: italic;
    color: var(--color-ash);
    font-size: var(--text-sm);
    margin-top: var(--spacing-2);
  }

  /* Foco accesible */
  :focus-visible {
    outline: 2px solid var(--color-gold);
    outline-offset: 3px;
    border-radius: var(--radius-sm);
  }
  :focus:not(:focus-visible) {
    outline: none;
  }
}


/* ─────────────────────────────────────────────
   3. COMPONENTES
───────────────────────────────────────────── */
@layer components {

  /* ── BOTONES ── */

  .btn {
    @apply inline-flex items-center justify-center gap-2;
    @apply cursor-pointer select-none;
    @apply font-semibold tracking-widest uppercase;
    font-family: var(--font-heading);
    font-size: var(--text-xs);
    padding: var(--spacing-3) var(--spacing-6);
    border-radius: var(--radius-stone);
    letter-spacing: 0.12em;
    border: 1px solid transparent;
    transition:
      background-color var(--duration-base) var(--ease-dark),
      border-color var(--duration-base) var(--ease-dark),
      box-shadow var(--duration-base) var(--ease-dark),
      color var(--duration-base) var(--ease-dark),
      transform var(--duration-fast) var(--ease-dark);
    position: relative;
    overflow: hidden;
  }
  .btn:active {
    transform: translateY(1px);
  }
  .btn::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(255,255,255,0.06) 0%, transparent 50%);
    pointer-events: none;
  }

  /* Dorado primario */
  .btn-primary {
    background: linear-gradient(180deg, var(--color-aurum) 0%, var(--color-gold) 100%);
    color: var(--color-void);
    border-color: var(--color-aureate);
    box-shadow: var(--shadow-candle), var(--shadow-emboss);
  }
  .btn-primary:hover {
    background: linear-gradient(180deg, var(--color-aureate) 0%, var(--color-aurum) 100%);
    box-shadow: 0 0 20px rgba(240,192,64,0.4), var(--shadow-emboss);
    color: var(--color-void);
  }

  /* Sangre secundario */
  .btn-danger {
    background: linear-gradient(180deg, var(--color-blood) 0%, var(--color-crimson) 100%);
    color: var(--color-vellum);
    border-color: var(--color-ember);
    box-shadow: var(--shadow-blood), var(--shadow-emboss);
  }
  .btn-danger:hover {
    background: linear-gradient(180deg, var(--color-ember) 0%, var(--color-blood) 100%);
    box-shadow: 0 0 20px rgba(231,76,60,0.45), var(--shadow-emboss);
  }

  /* Arcano mágico */
  .btn-arcane {
    background: linear-gradient(180deg, var(--color-ether) 0%, var(--color-mystic) 100%);
    color: var(--color-vellum);
    border-color: var(--color-glow);
    box-shadow: var(--shadow-arcane), var(--shadow-emboss);
  }
  .btn-arcane:hover {
    background: linear-gradient(180deg, var(--color-glow) 0%, var(--color-ether) 100%);
    box-shadow: 0 0 24px rgba(167,139,250,0.5), var(--shadow-emboss);
  }

  /* Fantasma: solo borde */
  .btn-ghost {
    background: transparent;
    color: var(--color-bone);
    border-color: var(--color-iron);
  }
  .btn-ghost:hover {
    border-color: var(--color-gold);
    color: var(--color-aureate);
    background: rgba(184,134,11,0.06);
    box-shadow: var(--shadow-candle);
  }

  .btn:disabled,
  .btn[disabled] {
    opacity: 0.4;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }

  /* Tamaños */
  .btn-sm {
    font-size: 0.65rem;
    padding: var(--spacing-2) var(--spacing-4);
  }
  .btn-lg {
    font-size: var(--text-sm);
    padding: var(--spacing-4) var(--spacing-8);
    letter-spacing: 0.15em;
  }


  /* ── TARJETAS ── */

  .card {
    background: linear-gradient(145deg, var(--color-crypt) 0%, var(--color-abyss) 100%);
    border: 1px solid var(--color-iron);
    border-radius: var(--radius-stone);
    padding: var(--spacing-6);
    box-shadow: var(--shadow-deep);
    position: relative;
    overflow: hidden;
    transition: border-color var(--duration-base) var(--ease-dark),
                box-shadow var(--duration-base) var(--ease-dark),
                transform var(--duration-base) var(--ease-dark);
  }
  /* Esquinas decorativas */
  .card::before,
  .card::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    border-color: var(--color-gold);
    border-style: solid;
    opacity: 0.4;
    transition: opacity var(--duration-base) var(--ease-dark);
  }
  .card::before {
    top: 8px;
    left: 8px;
    border-width: 1px 0 0 1px;
  }
  .card::after {
    bottom: 8px;
    right: 8px;
    border-width: 0 1px 1px 0;
  }
  .card:hover {
    border-color: rgba(184,134,11,0.4);
    box-shadow: var(--shadow-candle), var(--shadow-deep);
    transform: translateY(-2px);
  }
  .card:hover::before,
  .card:hover::after {
    opacity: 0.8;
  }

  .card-header {
    padding-bottom: var(--spacing-4);
    margin-bottom: var(--spacing-4);
    border-bottom: 1px solid var(--color-iron);
    font-family: var(--font-heading);
    color: var(--color-aureate);
    font-size: var(--text-lg);
    letter-spacing: 0.05em;
  }

  .card-arcane {
    border-color: rgba(124,58,237,0.3);
    background: linear-gradient(145deg, rgba(59,7,100,0.5) 0%, var(--color-abyss) 100%);
  }
  .card-arcane:hover {
    border-color: rgba(124,58,237,0.6);
    box-shadow: var(--shadow-arcane), var(--shadow-deep);
  }
  .card-arcane::before,
  .card-arcane::after {
    border-color: var(--color-glow);
  }

  .card-blood {
    border-color: rgba(139,26,26,0.3);
    background: linear-gradient(145deg, rgba(139,26,26,0.12) 0%, var(--color-abyss) 100%);
  }
  .card-blood:hover {
    border-color: rgba(192,57,43,0.6);
    box-shadow: var(--shadow-blood), var(--shadow-deep);
  }
  .card-blood::before,
  .card-blood::after {
    border-color: var(--color-ember);
  }


  /* ── FORMULARIOS ── */

  .form-label {
    display: block;
    font-family: var(--font-heading);
    font-size: var(--text-xs);
    color: var(--color-ash);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: var(--spacing-2);
  }

  .form-input,
  .form-textarea,
  .form-select {
    @apply block w-full;
    background-color: var(--color-abyss);
    color: var(--color-parchment);
    border: 1px solid var(--color-iron);
    border-radius: var(--radius-stone);
    padding: var(--spacing-3) var(--spacing-4);
    font-family: var(--font-body);
    font-size: var(--text-base);
    line-height: 1.5;
    transition: border-color var(--duration-base) var(--ease-dark),
                box-shadow var(--duration-base) var(--ease-dark);
  }
  .form-input::placeholder,
  .form-textarea::placeholder {
    color: var(--color-ash);
    opacity: 0.6;
    font-style: italic;
  }
  .form-input:focus,
  .form-textarea:focus,
  .form-select:focus {
    border-color: var(--color-gold);
    box-shadow: 0 0 0 2px rgba(184,134,11,0.15), var(--shadow-candle);
    outline: none;
  }
  .form-input:disabled,
  .form-textarea:disabled,
  .form-select:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  .form-textarea {
    resize: vertical;
    min-height: 120px;
  }

  .form-select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath d='M0 0l6 8 6-8z' fill='%23b8860b'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right var(--spacing-4) center;
    padding-right: calc(var(--spacing-4) * 3);
    cursor: pointer;
  }
  .form-select option {
    background-color: var(--color-crypt);
    color: var(--color-parchment);
  }

  .form-group {
    margin-bottom: var(--spacing-6);
  }

  .form-error {
    display: block;
    font-size: var(--text-xs);
    color: var(--color-ember);
    margin-top: var(--spacing-1);
    font-style: italic;
  }
  .form-input.is-error,
  .form-textarea.is-error {
    border-color: var(--color-blood);
    box-shadow: 0 0 0 2px rgba(192,57,43,0.15);
  }


  /* ── INSIGNIAS / BADGES ── */

  .badge {
    @apply inline-flex items-center;
    font-family: var(--font-heading);
    font-size: 0.65rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    padding: 0.2em 0.65em;
    border-radius: var(--radius-sm);
    border: 1px solid transparent;
    white-space: nowrap;
  }
  .badge-gold {
    background: rgba(184,134,11,0.15);
    color: var(--color-aureate);
    border-color: rgba(184,134,11,0.4);
  }
  .badge-blood {
    background: rgba(139,26,26,0.2);
    color: var(--color-ember);
    border-color: rgba(139,26,26,0.4);
  }
  .badge-arcane {
    background: rgba(91,33,182,0.2);
    color: var(--color-glow);
    border-color: rgba(91,33,182,0.4);
  }
  .badge-moss {
    background: rgba(74,124,89,0.15);
    color: var(--color-ichor);
    border-color: rgba(74,124,89,0.35);
  }
  .badge-bone {
    background: rgba(201,180,154,0.1);
    color: var(--color-bone);
    border-color: rgba(201,180,154,0.3);
  }


  /* ── ALERTAS ── */

  .alert {
    @apply flex gap-3;
    padding: var(--spacing-4) var(--spacing-6);
    border-radius: var(--radius-stone);
    border: 1px solid transparent;
    border-left-width: 3px;
    margin-bottom: var(--spacing-4);
    font-size: var(--text-sm);
  }
  .alert-info {
    background: rgba(91,33,182,0.1);
    border-color: var(--color-ether);
    border-left-color: var(--color-glow);
    color: var(--color-glow);
  }
  .alert-warning {
    background: rgba(184,134,11,0.1);
    border-color: var(--color-gold);
    border-left-color: var(--color-aureate);
    color: var(--color-aureate);
  }
  .alert-danger {
    background: rgba(139,26,26,0.12);
    border-color: var(--color-crimson);
    border-left-color: var(--color-ember);
    color: var(--color-ember);
  }
  .alert-success {
    background: rgba(74,124,89,0.1);
    border-color: var(--color-blight);
    border-left-color: var(--color-ichor);
    color: var(--color-ichor);
  }


  /* ── NAVEGACIÓN ── */

  .nav {
    @apply flex items-center;
    background: linear-gradient(180deg, rgba(17,13,15,0.98) 0%, rgba(10,6,8,0.98) 100%);
    border-bottom: 1px solid var(--color-iron);
    box-shadow: 0 4px 24px rgba(0,0,0,0.8),
                0 1px 0 rgba(184,134,11,0.15) inset;
    padding: 0 var(--spacing-6);
    position: relative;
  }
  .nav::after {
    content: "";
    position: absolute;
    bottom: -3px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg,
      transparent 0%,
      var(--color-iron) 20%,
      rgba(184,134,11,0.4) 50%,
      var(--color-iron) 80%,
      transparent 100%
    );
  }

  .nav-brand {
    font-family: var(--font-display);
    font-size: var(--text-xl);
    color: var(--color-aureate);
    text-shadow: 0 0 20px rgba(212,160,23,0.4);
    letter-spacing: 0.08em;
    text-decoration: none;
    padding: var(--spacing-4) 0;
    margin-right: var(--spacing-8);
    flex-shrink: 0;
  }

  .nav-link {
    font-family: var(--font-heading);
    font-size: var(--text-xs);
    color: var(--color-ash);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    padding: var(--spacing-4) var(--spacing-3);
    text-decoration: none;
    transition: color var(--duration-base) var(--ease-dark);
    position: relative;
    white-space: nowrap;
  }
  .nav-link::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: var(--spacing-3);
    right: var(--spacing-3);
    height: 1px;
    background: var(--color-gold);
    transform: scaleX(0);
    transform-origin: center;
    transition: transform var(--duration-base) var(--ease-dark);
  }
  .nav-link:hover {
    color: var(--color-aureate);
  }
  .nav-link:hover::after,
  .nav-link.active::after {
    transform: scaleX(1);
  }
  .nav-link.active {
    color: var(--color-aurum);
  }


  /* ── SECCIÓN HERO ── */

  .hero {
    @apply relative flex flex-col items-center justify-center text-center;
    min-height: 80vh;
    padding: var(--spacing-24) var(--spacing-8);
    overflow: hidden;
  }
  .hero::before {
    content: "";
    position: absolute;
    inset: 0;
    background:
      radial-gradient(ellipse at 50% 60%, rgba(139,26,26,0.12) 0%, transparent 55%),
      radial-gradient(ellipse at 80% 20%, rgba(91,33,182,0.08) 0%, transparent 40%),
      radial-gradient(ellipse at 20% 80%, rgba(74,124,89,0.05) 0%, transparent 40%);
    pointer-events: none;
  }

  .hero-title {
    font-family: var(--font-display);
    font-size: clamp(2.5rem, 8vw, 6rem);
    color: var(--color-vellum);
    text-shadow:
      0 0 60px rgba(212,160,23,0.35),
      0 0 120px rgba(139,26,26,0.2),
      0 4px 8px rgba(0,0,0,0.9);
    letter-spacing: 0.1em;
    line-height: 1.05;
    margin-bottom: var(--spacing-6);
    position: relative;
  }

  .hero-subtitle {
    font-family: var(--font-heading);
    font-size: clamp(1rem, 2.5vw, 1.5rem);
    color: var(--color-ash);
    letter-spacing: 0.25em;
    text-transform: uppercase;
    margin-bottom: var(--spacing-4);
  }

  .hero-description {
    max-width: 640px;
    color: var(--color-parchment);
    font-size: var(--text-lg);
    line-height: 1.8;
    opacity: 0.85;
    margin-bottom: var(--spacing-12);
  }


  /* ── DIVISOR ORNAMENTAL ── */

  .divider-ornate {
    @apply flex items-center gap-4;
    margin: var(--spacing-8) 0;
  }
  .divider-ornate::before,
  .divider-ornate::after {
    content: "";
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--color-iron));
  }
  .divider-ornate::after {
    background: linear-gradient(90deg, var(--color-iron), transparent);
  }
  .divider-ornate-symbol {
    font-family: var(--font-display);
    color: var(--color-gold);
    font-size: var(--text-lg);
    opacity: 0.7;
    flex-shrink: 0;
  }


  /* ── TOOLTIP ── */

  .tooltip-wrapper {
    @apply relative inline-flex;
  }
  .tooltip {
    position: absolute;
    bottom: calc(100% + var(--spacing-2));
    left: 50%;
    transform: translateX(-50%);
    background: var(--color-crypt);
    color: var(--color-bone);
    border: 1px solid var(--color-iron);
    padding: var(--spacing-2) var(--spacing-3);
    font-size: var(--text-xs);
    font-family: var(--font-body);
    white-space: nowrap;
    border-radius: var(--radius-stone);
    box-shadow: var(--shadow-deep);
    pointer-events: none;
    opacity: 0;
    transition: opacity var(--duration-fast) var(--ease-dark);
    z-index: 50;
  }
  .tooltip-wrapper:hover .tooltip {
    opacity: 1;
  }


  /* ── MODAL/DIÁLOGO ── */

  .modal-backdrop {
    @apply fixed inset-0;
    background: rgba(10,6,8,0.85);
    backdrop-filter: blur(4px);
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-4);
  }

  .modal {
    background: linear-gradient(145deg, var(--color-crypt) 0%, var(--color-abyss) 100%);
    border: 1px solid var(--color-iron);
    border-top: 2px solid var(--color-gold);
    border-radius: var(--radius-stone);
    box-shadow: var(--shadow-deep), 0 0 60px rgba(0,0,0,0.8);
    max-width: 560px;
    width: 100%;
    padding: var(--spacing-8);
    position: relative;
  }
  .modal-title {
    font-family: var(--font-heading);
    font-size: var(--text-2xl);
    color: var(--color-aureate);
    margin-bottom: var(--spacing-6);
    padding-bottom: var(--spacing-4);
    border-bottom: 1px solid var(--color-iron);
  }
  .modal-close {
    position: absolute;
    top: var(--spacing-4);
    right: var(--spacing-4);
    background: none;
    border: 1px solid var(--color-iron);
    color: var(--color-ash);
    width: 32px;
    height: 32px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: var(--text-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: border-color var(--duration-fast), color var(--duration-fast);
  }
  .modal-close:hover {
    border-color: var(--color-blood);
    color: var(--color-ember);
  }


  /* ── PROGRESS / BARRA DE VIDA ── */

  .progress {
    @apply w-full;
    height: 8px;
    background-color: var(--color-crypt);
    border: 1px solid var(--color-iron);
    border-radius: var(--radius-sm);
    overflow: hidden;
    position: relative;
  }
  .progress-bar {
    height: 100%;
    border-radius: inherit;
    transition: width var(--duration-slow) var(--ease-dark);
    position: relative;
  }
  .progress-bar::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: rgba(255,255,255,0.15);
    border-radius: inherit;
  }
  .progress-gold {
    background: linear-gradient(90deg, var(--color-gold), var(--color-aureate));
    box-shadow: 0 0 8px rgba(212,160,23,0.5);
  }
  .progress-blood {
    background: linear-gradient(90deg, var(--color-crimson), var(--color-ember));
    box-shadow: 0 0 8px rgba(192,57,43,0.5);
  }
  .progress-arcane {
    background: linear-gradient(90deg, var(--color-mystic), var(--color-glow));
    box-shadow: 0 0 8px rgba(124,58,237,0.5);
  }
  .progress-life {
    background: linear-gradient(90deg, var(--color-moss), var(--color-ichor));
    box-shadow: 0 0 8px rgba(106,170,122,0.4);
  }


  /* ── SIDEBAR ── */

  .sidebar {
    @apply flex flex-col;
    background: linear-gradient(180deg, var(--color-abyss) 0%, var(--color-void) 100%);
    border-right: 1px solid var(--color-iron);
    width: 260px;
    min-height: 100vh;
    padding: var(--spacing-6) 0;
    position: relative;
  }
  .sidebar::after {
    content: "";
    position: absolute;
    top: 0;
    right: -4px;
    bottom: 0;
    width: 4px;
    background: linear-gradient(180deg,
      transparent 0%,
      rgba(184,134,11,0.15) 30%,
      rgba(184,134,11,0.15) 70%,
      transparent 100%
    );
    pointer-events: none;
  }

  .sidebar-section-title {
    font-family: var(--font-heading);
    font-size: 0.65rem;
    color: var(--color-ash);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    padding: var(--spacing-3) var(--spacing-6);
    margin-top: var(--spacing-4);
    opacity: 0.7;
  }

  .sidebar-link {
    @apply flex items-center gap-3;
    font-family: var(--font-body);
    font-size: var(--text-sm);
    color: var(--color-ash);
    padding: var(--spacing-3) var(--spacing-6);
    text-decoration: none;
    transition:
      color var(--duration-base) var(--ease-dark),
      background-color var(--duration-base) var(--ease-dark),
      padding-left var(--duration-base) var(--ease-dark);
    border-left: 2px solid transparent;
  }
  .sidebar-link:hover {
    color: var(--color-bone);
    background-color: rgba(184,134,11,0.05);
    padding-left: calc(var(--spacing-6) + var(--spacing-2));
  }
  .sidebar-link.active {
    color: var(--color-aurum);
    background-color: rgba(184,134,11,0.08);
    border-left-color: var(--color-gold);
    padding-left: calc(var(--spacing-6) + var(--spacing-2));
  }


  /* ── DROPDOWN ── */

  .dropdown {
    @apply relative inline-block;
  }
  .dropdown-menu {
    position: absolute;
    top: calc(100% + var(--spacing-2));
    left: 0;
    background: var(--color-crypt);
    border: 1px solid var(--color-iron);
    border-top: 2px solid var(--color-gold);
    border-radius: var(--radius-stone);
    min-width: 200px;
    box-shadow: var(--shadow-deep);
    z-index: 50;
    overflow: hidden;
  }
  .dropdown-item {
    @apply block;
    padding: var(--spacing-3) var(--spacing-4);
    font-size: var(--text-sm);
    color: var(--color-parchment);
    text-decoration: none;
    transition: background-color var(--duration-fast), color var(--duration-fast);
    border-bottom: 1px solid rgba(61,44,51,0.5);
    cursor: pointer;
    background: none;
    width: 100%;
    text-align: left;
    border-left: none;
    border-right: none;
    border-top: none;
    font-family: var(--font-body);
  }
  .dropdown-item:last-child {
    border-bottom: none;
  }
  .dropdown-item:hover {
    background-color: rgba(184,134,11,0.08);
    color: var(--color-aureate);
  }
  .dropdown-item.danger:hover {
    background-color: rgba(139,26,26,0.15);
    color: var(--color-ember);
  }


  /* ── AVATAR ── */

  .avatar {
    @apply inline-flex items-center justify-center;
    @apply shrink-0;
    border-radius: 50%;
    border: 2px solid var(--color-iron);
    background: var(--color-dungeon);
    overflow: hidden;
    transition: border-color var(--duration-base) var(--ease-dark),
                box-shadow var(--duration-base) var(--ease-dark);
  }
  .avatar img {
    @apply w-full h-full;
    object-fit: cover;
  }
  .avatar:hover {
    border-color: var(--color-gold);
    box-shadow: var(--shadow-candle);
  }
  .avatar-sm  { width: 32px; height: 32px; font-size: var(--text-xs); }
  .avatar-md  { width: 48px; height: 48px; font-size: var(--text-base); }
  .avatar-lg  { width: 72px; height: 72px; font-size: var(--text-2xl); }
  .avatar-xl  { width: 112px; height: 112px; font-size: var(--text-4xl); }

  .avatar-arcane {
    border-color: var(--color-ether);
    box-shadow: 0 0 12px rgba(124,58,237,0.4);
  }
  .avatar-gold {
    border-color: var(--color-gold);
    box-shadow: var(--shadow-candle);
  }


  /* ── PAGINATION ── */

  .pagination {
    @apply flex items-center gap-1;
  }
  .page-item {
    @apply inline-flex items-center justify-center;
    width: 36px;
    height: 36px;
    font-family: var(--font-heading);
    font-size: var(--text-sm);
    color: var(--color-ash);
    border: 1px solid var(--color-iron);
    border-radius: var(--radius-stone);
    cursor: pointer;
    text-decoration: none;
    background: var(--color-abyss);
    transition: all var(--duration-fast) var(--ease-dark);
  }
  .page-item:hover {
    color: var(--color-aureate);
    border-color: var(--color-gold);
    background: rgba(184,134,11,0.07);
  }
  .page-item.active {
    background: var(--color-gold);
    color: var(--color-void);
    border-color: var(--color-aureate);
    font-weight: 700;
  }
  .page-item.disabled {
    opacity: 0.35;
    cursor: not-allowed;
    pointer-events: none;
  }


  /* ── STAT CARD / RPG ── */

  .stat-block {
    @apply text-center;
    padding: var(--spacing-4);
    background: var(--color-abyss);
    border: 1px solid var(--color-iron);
    border-radius: var(--radius-stone);
    position: relative;
  }
  .stat-value {
    font-family: var(--font-display);
    font-size: var(--text-4xl);
    color: var(--color-aureate);
    line-height: 1;
    text-shadow: 0 0 20px rgba(212,160,23,0.4);
    display: block;
  }
  .stat-label {
    font-family: var(--font-heading);
    font-size: 0.65rem;
    color: var(--color-ash);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    margin-top: var(--spacing-2);
    display: block;
  }
  .stat-description {
    font-size: var(--text-xs);
    color: var(--color-ash);
    margin-top: var(--spacing-1);
    font-style: italic;
    opacity: 0.7;
    display: block;
  }
}


/* ─────────────────────────────────────────────
   4. UTILIDADES TEMÁTICAS
───────────────────────────────────────────── */
@layer utilities {

  /* ── TEXTO ── */
  .text-gold     { color: var(--color-gold); }
  .text-aureate  { color: var(--color-aureate); }
  .text-blood    { color: var(--color-blood); }
  .text-ember    { color: var(--color-ember); }
  .text-arcane   { color: var(--color-ether); }
  .text-glow     { color: var(--color-glow); }
  .text-parchment{ color: var(--color-parchment); }
  .text-bone     { color: var(--color-bone); }
  .text-ash      { color: var(--color-ash); }
  .text-ichor    { color: var(--color-ichor); }

  .text-display  { font-family: var(--font-display); }
  .text-heading  { font-family: var(--font-heading); }
  .text-body     { font-family: var(--font-body); }
  .text-rune     { font-family: var(--font-rune); }

  .text-rune-carved {
    font-family: var(--font-heading);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--color-ash);
    text-shadow: 0 1px 0 rgba(0,0,0,0.8), 0 -1px 0 rgba(255,255,255,0.04);
  }

  .text-glow-gold {
    color: var(--color-aureate);
    text-shadow: 0 0 20px rgba(212,160,23,0.6), 0 0 40px rgba(212,160,23,0.3);
  }

  .text-glow-blood {
    color: var(--color-ember);
    text-shadow: 0 0 20px rgba(192,57,43,0.6), 0 0 40px rgba(139,26,26,0.3);
  }

  .text-glow-arcane {
    color: var(--color-glow);
    text-shadow: 0 0 20px rgba(167,139,250,0.6), 0 0 40px rgba(124,58,237,0.3);
  }

  .text-shadow-deep {
    text-shadow: 0 2px 4px rgba(0,0,0,0.9), 0 4px 12px rgba(0,0,0,0.7);
  }

  /* ── FONDOS ── */
  .bg-void     { background-color: var(--color-void); }
  .bg-abyss    { background-color: var(--color-abyss); }
  .bg-crypt    { background-color: var(--color-crypt); }
  .bg-dungeon  { background-color: var(--color-dungeon); }
  .bg-iron     { background-color: var(--color-iron); }

  .bg-arcane {
    background: linear-gradient(135deg, var(--color-arcane) 0%, var(--color-abyss) 100%);
  }
  .bg-parchment-overlay {
    background: radial-gradient(ellipse at center, rgba(232,213,176,0.04) 0%, transparent 70%);
  }

  /* ── BORDES ── */
  .border-stone  { border-color: var(--color-iron); }
  .border-gold   { border-color: var(--color-gold); }
  .border-blood  { border-color: var(--color-crimson); }
  .border-arcane { border-color: var(--color-ether); }

  /* ── EFECTOS DE LUZ AMBIENTAL ── */
  .glow-candle {
    box-shadow: var(--shadow-candle);
  }
  .glow-arcane {
    box-shadow: var(--shadow-arcane);
  }
  .glow-blood {
    box-shadow: var(--shadow-blood);
  }

  /* ── ANIMACIONES ── */
  .animate-flicker {
    animation: flicker 3s ease-in-out infinite;
  }
  @keyframes flicker {
    0%, 100% { opacity: 1; text-shadow: 0 0 20px rgba(212,160,23,0.4); }
    25%       { opacity: 0.92; text-shadow: 0 0 10px rgba(212,160,23,0.2); }
    50%       { opacity: 1; text-shadow: 0 0 30px rgba(212,160,23,0.6); }
    75%       { opacity: 0.96; text-shadow: 0 0 15px rgba(212,160,23,0.3); }
  }

  .animate-pulse-arcane {
    animation: pulseArcane 2.5s ease-in-out infinite;
  }
  @keyframes pulseArcane {
    0%, 100% { box-shadow: 0 0 12px rgba(124,58,237,0.3); }
    50%       { box-shadow: 0 0 28px rgba(124,58,237,0.6), 0 0 48px rgba(91,33,182,0.3); }
  }

  .animate-breath {
    animation: breath 4s ease-in-out infinite;
  }
  @keyframes breath {
    0%, 100% { transform: scale(1); opacity: 1; }
    50%       { transform: scale(1.015); opacity: 0.92; }
  }

  .animate-rise {
    animation: rise 0.6s var(--ease-dark) both;
  }
  @keyframes rise {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .animate-fade-in {
    animation: fadeIn 0.8s var(--ease-dark) both;
  }
  @keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
  }

  .animate-rune-glow {
    animation: runeGlow 3s ease-in-out infinite alternate;
  }
  @keyframes runeGlow {
    from { filter: drop-shadow(0 0 4px rgba(167,139,250,0.3)); }
    to   { filter: drop-shadow(0 0 12px rgba(167,139,250,0.8)) drop-shadow(0 0 24px rgba(91,33,182,0.4)); }
  }

  /* ── LAYOUT ── */
  .container-dark {
    @apply mx-auto px-4;
    max-width: 1200px;
  }

  .section-dark {
    padding: var(--spacing-24) var(--spacing-8);
    position: relative;
  }

  /* ── DECORACIONES ── */
  .corner-gold {
    position: relative;
  }
  .corner-gold::before,
  .corner-gold::after {
    content: "";
    position: absolute;
    width: 16px;
    height: 16px;
    border-style: solid;
    border-color: rgba(184,134,11,0.5);
    pointer-events: none;
  }
  .corner-gold::before {
    top: 6px; left: 6px;
    border-width: 1px 0 0 1px;
  }
  .corner-gold::after {
    bottom: 6px; right: 6px;
    border-width: 0 1px 1px 0;
  }

  .ornament-top {
    @apply flex items-center gap-3;
    margin-bottom: var(--spacing-6);
  }
  .ornament-top::before,
  .ornament-top::after {
    content: "";
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--color-gold));
  }
  .ornament-top::before {
    background: linear-gradient(90deg, transparent, var(--color-gold));
  }
  .ornament-top::after {
    background: linear-gradient(90deg, var(--color-gold), transparent);
  }

  /* ── SCROLL REVEAL (requiere JS con IntersectionObserver) ── */
  .reveal {
    opacity: 0;
    transform: translateY(24px);
    transition: opacity var(--duration-slow) var(--ease-dark),
                transform var(--duration-slow) var(--ease-dark);
  }
  .reveal.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* ── STAGGER (animar hijos secuencialmente) ── */
  .stagger > *:nth-child(1)  { animation-delay: 0ms; }
  .stagger > *:nth-child(2)  { animation-delay: 100ms; }
  .stagger > *:nth-child(3)  { animation-delay: 200ms; }
  .stagger > *:nth-child(4)  { animation-delay: 300ms; }
  .stagger > *:nth-child(5)  { animation-delay: 400ms; }
  .stagger > *:nth-child(6)  { animation-delay: 500ms; }

  /* ── CURSOR RÚNICO (SVG inline codificado) ── */
  .cursor-rune {
    cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M12 2l2 7h7l-5.5 4 2 7L12 16l-5.5 4 2-7L3 9h7z' fill='none' stroke='%23b8860b' stroke-width='1.5'/%3E%3C/svg%3E") 12 12, crosshair;
  }
  .cursor-sword {
    cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M3 21l4-4 10-10L21 3l-4 4-10 10-4 4z' fill='none' stroke='%23c0392b' stroke-width='1.5'/%3E%3Cpath d='M15 3l2 2M3 15l2 2' stroke='%23b8860b' stroke-width='1'/%3E%3C/svg%3E") 12 12, crosshair;
  }
}
